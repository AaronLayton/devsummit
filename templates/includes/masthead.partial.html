{% macro masthead(is_partial=none, image=none, title=none) %}
{% if is_partial %}
  <div class="masthead-underlay__content">
    <!-- Live info here -->
    {{ caller() }}
  </div>
{% else %}
<div class="masthead">

  <h1 class="masthead__title">{{ title }}</h1>

  <div class="masthead__graphic">
    <svg width="100%" height="99.8%" preserveAspectRatio="xMidYMax slice" viewBox="0 0 1224 612">
      <g clip-path="url(#masthead-clip)" x="0" y="0">
        <rect fill="#333" width="100%" height="100%" />
      </g>
    </svg>

    <svg width="100%" height="100%" preserveAspectRatio="xMidYMax slice" viewBox="0 0 1224 612">
      <foreignObject clip-path="url(#masthead-clip)" width="100%" height="100%">
        <style>
          #masthead-image {
            background: url({{ image }}) center center no-repeat;
            background-size: cover;
            width: 1224px;
            height: 612px;
            background-position: 40vw 0;
          }

          @media (min-width: 400px) {
            #masthead-image {
              background-position: 20vw 0;
            }
          }

          @media (min-width: 584px) {
            #masthead-image {
              background-position: 10vw 0;
            }
          }

          @media (min-width: 800px) {
            #masthead-image {
              background-position: 0vw 0;
            }
          }

          @media (min-width: 1000px) and (max-width: 1439px) {
            #masthead-image {
              background-position: 0 4vw;
            }
          }

          @media (min-width: 1204px) and (max-width: 1439px) {
            #masthead-image {
              background-position: 0 7vw;
            }
          }

          @media (min-width: 1320px) and (max-width: 1439px) {
            #masthead-image {
              background-position: 0 12vw;
            }
          }

          @media (min-width: 1440px) {
            #masthead-image {
              background-position: 0 4vw;
            }
          }

          @media (min-width: 1920px) {
            #masthead-image {
              background-position: 0 6vw;
            }
          }
        </style>
        <div id="masthead-image"></div>
      </foreignObject>
    </svg>

    <svg width="0" height="0">
      <defs>
          <clipPath id="masthead-clip" clipPathUnits="userSpaceOnUse">
            <polygon points="0 0 1224 0 1224 564 0 612"></polygon>
          </clipPath>
      </defs>
    </svg>
  </div>

  <div class="masthead-underlay">

    <svg width="100%" height="100%" preserveAspectRatio="xMidYMax slice" viewBox="0 0 1224 612">
      <polygon fill="#FFCD43" points="0 0 1224 0 1224 590 0 612"></polygon>
    </svg>

    <div class="masthead-underlay__content">
      <!-- Live info here -->
      {{ caller() }}
    </div>

    <svg class="masthead-underlay__accent" width="100%" height="400px" preserveAspectRatio="xMidYMax slice" viewBox="0 0 1224 612">
      <polygon fill="#C7A139" points="0 0 1224 0 1224 590 0 612"></polygon>
    </svg>

  </div>
</div>
{% endif %}
{% endmacro %}
